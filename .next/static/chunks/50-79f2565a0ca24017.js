"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{99376:function(e,t,r){var n=r(35475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}}),r.o(n,"useSelectedLayoutSegments")&&r.d(t,{useSelectedLayoutSegments:function(){return n.useSelectedLayoutSegments}})},87045:function(e,t,r){r.d(t,{j:function(){return s}});var n=r(24112),i=r(45345),s=new class extends n.l{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!i.sk&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}}},18238:function(e,t,r){r.d(t,{V:function(){return n}});var n=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},i=e=>setTimeout(e,0),s=n=>{t?e.push(n):i(()=>{r(n)})},o=()=>{let t=e;e=[],t.length&&i(()=>{n(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||o()}return r},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{i=e}}}()},57853:function(e,t,r){r.d(t,{N:function(){return s}});var n=r(24112),i=r(45345),s=new class extends n.l{#n=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!i.sk&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}}},7989:function(e,t,r){r.d(t,{F:function(){return i}});var n=r(45345),i=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,n.PN)(this.gcTime)&&(this.#i=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(n.sk?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}}},11255:function(e,t,r){r.d(t,{DV:function(){return c},Kw:function(){return u},Mz:function(){return f}});var n=r(87045),i=r(57853),s=r(16803),o=r(45345);function a(e){return Math.min(1e3*2**e,3e4)}function u(e){return(e??"online")!=="online"||i.N.isOnline()}var l=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function c(e){return e instanceof l}function f(e){let t,r=!1,c=0,f=!1,h=(0,s.O)(),p=()=>n.j.isFocused()&&("always"===e.networkMode||i.N.isOnline())&&e.canRun(),d=()=>u(e.networkMode)&&e.canRun(),y=r=>{f||(f=!0,e.onSuccess?.(r),t?.(),h.resolve(r))},m=r=>{f||(f=!0,e.onError?.(r),t?.(),h.reject(r))},g=()=>new Promise(r=>{t=e=>{(f||p())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,f||e.onContinue?.()}),b=()=>{let t;if(f)return;let n=0===c?e.initialPromise:void 0;try{t=n??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(y).catch(t=>{if(f)return;let n=e.retry??(o.sk?0:3),i=e.retryDelay??a,s="function"==typeof i?i(c,t):i,u=!0===n||"number"==typeof n&&c<n||"function"==typeof n&&n(c,t);if(r||!u){m(t);return}c++,e.onFail?.(c,t),(0,o._v)(s).then(()=>p()?void 0:g()).then(()=>{r?m(t):b()})})};return{promise:h,cancel:t=>{f||(m(new l(t)),e.abort?.())},continue:()=>(t?.(),h),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:d,start:()=>(d()?b():g().then(b),h)}}},24112:function(e,t,r){r.d(t,{l:function(){return n}});var n=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},16803:function(e,t,r){r.d(t,{O:function(){return n}});function n(){let e,t;let r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}},45345:function(e,t,r){r.d(t,{CN:function(){return S},Ht:function(){return O},KC:function(){return u},Kp:function(){return a},Nc:function(){return l},PN:function(){return o},Rm:function(){return h},SE:function(){return s},VS:function(){return y},VX:function(){return E},X7:function(){return f},Ym:function(){return p},ZT:function(){return i},_v:function(){return w},_x:function(){return c},cG:function(){return P},oE:function(){return v},sk:function(){return n},to:function(){return d}});var n="undefined"==typeof window||"Deno"in globalThis;function i(){}function s(e,t){return"function"==typeof e?e(t):e}function o(e){return"number"==typeof e&&e>=0&&e!==1/0}function a(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t){return"function"==typeof e?e(t):e}function l(e,t){return"function"==typeof e?e(t):e}function c(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==h(o,t.options))return!1}else if(!d(t.queryKey,o))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(!i||i===t.state.fetchStatus)&&(!s||!!s(t))}function f(e,t){let{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(p(t.options.mutationKey)!==p(s))return!1}else if(!d(t.options.mutationKey,s))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function h(e,t){return(t?.queryKeyHashFn||p)(e)}function p(e){return JSON.stringify(e,(e,t)=>g(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function d(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(r=>!d(e[r],t[r]))}function y(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function m(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g(e){if(!b(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!(b(r)&&r.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(e)===Object.prototype}function b(e){return"[object Object]"===Object.prototype.toString.call(e)}function w(e){return new Promise(t=>{setTimeout(t,e)})}function v(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let n=m(t)&&m(r);if(n||g(t)&&g(r)){let i=n?t:Object.keys(t),s=i.length,o=n?r:Object.keys(r),a=o.length,u=n?[]:{},l=0;for(let s=0;s<a;s++){let a=n?s:o[s];(!n&&i.includes(a)||n)&&void 0===t[a]&&void 0===r[a]?(u[a]=void 0,l++):(u[a]=e(t[a],r[a]),u[a]===t[a]&&void 0!==t[a]&&l++)}return s===a&&l===s?t:u}return r}(e,t):t}function E(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function O(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var S=Symbol();function P(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==S?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}},29827:function(e,t,r){r.d(t,{NL:function(){return o},aH:function(){return a}});var n=r(2265),i=r(57437),s=n.createContext(void 0),o=e=>{let t=n.useContext(s);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},a=e=>{let{client:t,children:r}=e;return n.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,i.jsx)(s.Provider,{value:t,children:r})}},51172:function(e,t,r){function n(e,t){return"function"==typeof e?e(...t):!!e}function i(){}r.d(t,{L:function(){return n},Z:function(){return i}})},90535:function(e,t,r){r.d(t,{j:function(){return o}});var n=r(61994);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=n.W,o=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:a}=t,u=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let s=i(t)||i(n);return o[e][s]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return s(e,u,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...l}[t]):({...a,...l})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},57348:function(e,t,r){r.d(t,{hc:function(){return p}});var n=(e,t,r={})=>{let n=`${e}=${t}`;if(e.startsWith("__Secure-")&&!r.secure)throw Error("__Secure- Cookie must have Secure attributes");if(e.startsWith("__Host-")){if(!r.secure)throw Error("__Host- Cookie must have Secure attributes");if("/"!==r.path)throw Error('__Host- Cookie must have Path attributes with "/"');if(r.domain)throw Error("__Host- Cookie must not have Domain attributes")}if(r&&"number"==typeof r.maxAge&&r.maxAge>=0){if(r.maxAge>3456e4)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");n+=`; Max-Age=${0|r.maxAge}`}if(r.domain&&"host"!==r.prefix&&(n+=`; Domain=${r.domain}`),r.path&&(n+=`; Path=${r.path}`),r.expires){if(r.expires.getTime()-Date.now()>3456e7)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");n+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.sameSite&&(n+=`; SameSite=${r.sameSite.charAt(0).toUpperCase()+r.sameSite.slice(1)}`),r.priority&&(n+=`; Priority=${r.priority}`),r.partitioned){if(!r.secure)throw Error("Partitioned Cookie must have Secure attributes");n+="; Partitioned"}return n},i=(e,t,r)=>n(e,t=encodeURIComponent(t),r),s=(e,t)=>(e=e.replace(/\/+$/,"")+"/")+(t=t.replace(/^\/+/,"")),o=(e,t)=>{for(let[r,n]of Object.entries(t)){let t=RegExp("/:"+r+"(?:{[^/]+})?\\??");e=e.replace(t,n?`/${n}`:"")}return e},a=e=>{let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(void 0!==n){if(Array.isArray(n))for(let e of n)t.append(r,e);else t.set(r,n)}return t},u=(e,t)=>{switch(t){case"ws":return e.replace(/^http/,"ws");case"http":return e.replace(/^ws/,"http")}},l=e=>/^https?:\/\/[^\/]+?\/index$/.test(e)?e.replace(/\/index$/,"/"):e.replace(/\/index$/,"");function c(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}var f=(e,t)=>new Proxy(()=>{},{get(r,n){if("string"==typeof n&&"then"!==n)return f(e,[...t,n])},apply:(r,n,i)=>e({path:t,args:i})}),h=class{url;method;queryParams=void 0;pathParams={};rBody;cType=void 0;constructor(e,t){this.url=e,this.method=t}fetch=async(e,t)=>{if(e){if(e.query&&(this.queryParams=a(e.query)),e.form){let t=new FormData;for(let[r,n]of Object.entries(e.form))if(Array.isArray(n))for(let e of n)t.append(r,e);else t.append(r,n);this.rBody=t}e.json&&(this.rBody=JSON.stringify(e.json),this.cType="application/json"),e.param&&(this.pathParams=e.param)}let r=this.method.toUpperCase(),n={...e?.header,..."function"==typeof t?.headers?await t.headers():t?.headers};if(e?.cookie){let t=[];for(let[r,n]of Object.entries(e.cookie))t.push(i(r,n,{path:"/"}));n.Cookie=t.join(",")}this.cType&&(n["Content-Type"]=this.cType);let s=new Headers(n??void 0),u=this.url;u=o(u=l(u),this.pathParams),this.queryParams&&(u=u+"?"+this.queryParams.toString());let c=!("GET"===(r=this.method.toUpperCase())||"HEAD"===r);return(t?.fetch||fetch)(u,{body:c?this.rBody:void 0,method:r,headers:s,...t?.init})}},p=(e,t)=>f(function r(n){let i=[...n.path];if("toString"===i.at(-1))return"name"===i.at(-2)?i.at(-3)||"":r.toString();if("valueOf"===i.at(-1))return"name"===i.at(-2)?i.at(-3)||"":r;let l="";if(/^\$/.test(i.at(-1))){let e=i.pop();e&&(l=e.replace(/^\$/,""))}let f=s(e,i.join("/"));if("url"===l){let e=f;return n.args[0]&&(n.args[0].param&&(e=o(f,n.args[0].param)),n.args[0].query&&(e=e+"?"+a(n.args[0].query).toString())),new URL(e)}if("ws"===l){let e=new URL(u(n.args[0]&&n.args[0].param?o(f,n.args[0].param):f,"ws")),r=n.args[0]?.query;return r&&Object.entries(r).forEach(([t,r])=>{Array.isArray(r)?r.forEach(r=>e.searchParams.append(t,r)):e.searchParams.set(t,r)}),((...e)=>t?.webSocket!==void 0&&"function"==typeof t.webSocket?t.webSocket(...e):new WebSocket(...e))(e.toString())}let p=new h(f,l);if(l){let e=function e(t,r){if(!c(t)&&!c(r))return r;let n={...t};for(let t in r){let i=r[t];c(n[t])&&c(i)?n[t]=e(n[t],i):n[t]=i}return n}(t??={},{...n.args[1]});return p.fetch(n.args[0],e)}return p},[])},6594:function(e,t,r){r.d(t,{M:function(){return n}});var n=class extends Error{res;status;constructor(e=500,t){super(t?.message,{cause:t?.cause}),this.res=t?.res,this.status=e}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}}},48080:function(e,t,r){var n,i;r.d(t,{ZP:function(){return Q}});class s{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class o{constructor(e){this.generateIdentifier=e,this.kv=new s}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class a extends o{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){"object"==typeof t?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function u(e,t){Object.entries(e).forEach(([e,r])=>t(r,e))}function l(e,t){return -1!==e.indexOf(t)}function c(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(t(n))return n}}class f{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return function(e,t){let r=function(e){if("values"in Object)return Object.values(e);let t=[];for(let r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}(e);if("find"in r)return r.find(t);for(let e=0;e<r.length;e++){let n=r[e];if(t(n))return n}}(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}}let h=e=>Object.prototype.toString.call(e).slice(8,-1),p=e=>void 0===e,d=e=>null===e,y=e=>"object"==typeof e&&null!==e&&e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype),m=e=>y(e)&&0===Object.keys(e).length,g=e=>Array.isArray(e),b=e=>"string"==typeof e,w=e=>"number"==typeof e&&!isNaN(e),v=e=>"boolean"==typeof e,E=e=>e instanceof Map,O=e=>e instanceof Set,S=e=>"Symbol"===h(e),P=e=>"number"==typeof e&&isNaN(e),j=e=>v(e)||d(e)||p(e)||w(e)||b(e)||S(e),k=e=>e===1/0||e===-1/0,T=e=>e.replace(/\./g,"\\."),A=e=>e.map(String).map(T).join("."),R=e=>{let t=[],r="";for(let n=0;n<e.length;n++){let i=e.charAt(n);if("\\"===i&&"."===e.charAt(n+1)){r+=".",n++;continue}if("."===i){t.push(r),r="";continue}r+=i}let n=r;return t.push(n),t};function x(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}let I=[x(p,"undefined",()=>null,()=>void 0),x(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),x(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),x(e=>e instanceof Error,"Error",(e,t)=>{let r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r},(e,t)=>{let r=Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r}),x(e=>e instanceof RegExp,"regexp",e=>""+e,e=>new RegExp(e.slice(1,e.lastIndexOf("/")),e.slice(e.lastIndexOf("/")+1))),x(O,"set",e=>[...e.values()],e=>new Set(e)),x(E,"map",e=>[...e.entries()],e=>new Map(e)),x(e=>P(e)||k(e),"number",e=>P(e)?"NaN":e>0?"Infinity":"-Infinity",Number),x(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),x(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function N(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}let C=N((e,t)=>!!S(e)&&!!t.symbolRegistry.getIdentifier(e),(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{let n=r.symbolRegistry.getValue(t[1]);if(!n)throw Error("Trying to deserialize unknown symbol");return n}),_=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),L=N(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{let r=_[t[1]];if(!r)throw Error("Trying to deserialize unknown typed array");return new r(e)});function U(e,t){return!!e?.constructor&&!!t.classRegistry.getIdentifier(e.constructor)}let V=N(U,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{let r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};let n={};return r.forEach(t=>{n[t]=e[t]}),n},(e,t,r)=>{let n=r.classRegistry.getValue(t[1]);if(!n)throw Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),e)}),q=N((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{let n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),F=[V,C,q,L],z=(e,t)=>{let r=c(F,r=>r.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};let n=c(I,r=>r.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation}},$={};I.forEach(e=>{$[e.annotation]=e});let M=(e,t,r)=>{if(g(t))switch(t[0]){case"symbol":return C.untransform(e,t,r);case"class":return V.untransform(e,t,r);case"custom":return q.untransform(e,t,r);case"typed-array":return L.untransform(e,t,r);default:throw Error("Unknown transformation: "+t)}else{let n=$[t];if(!n)throw Error("Unknown transformation: "+t);return n.untransform(e,r)}},B=(e,t)=>{if(t>e.size)throw Error("index out of bounds");let r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function D(e){if(l(e,"__proto__"))throw Error("__proto__ is not allowed as a property");if(l(e,"prototype"))throw Error("prototype is not allowed as a property");if(l(e,"constructor"))throw Error("constructor is not allowed as a property")}let H=(e,t)=>{D(t);for(let r=0;r<t.length;r++){let n=t[r];if(O(e))e=B(e,+n);else if(E(e)){let i=+n,s=0==+t[++r]?"key":"value",o=B(e,i);switch(s){case"key":e=o;break;case"value":e=e.get(o)}}else e=e[n]}return e},K=(e,t,r)=>{if(D(t),0===t.length)return r(e);let n=e;for(let e=0;e<t.length-1;e++){let r=t[e];if(g(n))n=n[+r];else if(y(n))n=n[r];else if(O(n))n=B(n,+r);else if(E(n)){if(e===t.length-2)break;let i=+r,s=0==+t[++e]?"key":"value",o=B(n,i);switch(s){case"key":n=o;break;case"value":n=n.get(o)}}}let i=t[t.length-1];if(g(n)?n[+i]=r(n[+i]):y(n)&&(n[i]=r(n[i])),O(n)){let e=B(n,+i),t=r(e);e!==t&&(n.delete(e),n.add(t))}if(E(n)){let e=B(n,+t[t.length-2]);switch(0==+i?"key":"value"){case"key":{let t=r(e);n.set(t,n.get(e)),t!==e&&n.delete(e);break}case"value":n.set(e,r(n.get(e)))}}return e},G=(e,t)=>y(e)||g(e)||E(e)||O(e)||U(e,t),J=(e,t,r,n,i=[],s=[],o=new Map)=>{let a=j(e);if(!a){!function(e,t,r){let n=r.get(e);n?n.push(t):r.set(e,[t])}(e,i,t);let r=o.get(e);if(r)return n?{transformedValue:null}:r}if(!G(e,r)){let t=z(e,r),n=t?{transformedValue:t.value,annotations:[t.type]}:{transformedValue:e};return a||o.set(e,n),n}if(l(s,e))return{transformedValue:null};let c=z(e,r),f=c?.value??e,h=g(f)?[]:{},p={};u(f,(a,l)=>{if("__proto__"===l||"constructor"===l||"prototype"===l)throw Error(`Detected property ${l}. This is a prototype pollution risk, please remove it from your object.`);let c=J(a,t,r,n,[...i,l],[...s,e],o);h[l]=c.transformedValue,g(c.annotations)?p[l]=c.annotations:y(c.annotations)&&u(c.annotations,(e,t)=>{p[T(l)+"."+t]=e})});let d=m(p)?{transformedValue:h,annotations:c?[c.type]:void 0}:{transformedValue:h,annotations:c?[c.type,p]:p};return a||o.set(e,d),d};function W(e){return Object.prototype.toString.call(e).slice(8,-1)}function Z(e){return"Array"===W(e)}n=function(e){return"Null"===W(e)},i=function(e){return"Undefined"===W(e)},e=>n(e)||i(e)||!1;class Q{constructor({dedupe:e=!1}={}){this.classRegistry=new a,this.symbolRegistry=new o(e=>e.description??""),this.customTransformerRegistry=new f,this.allowedErrorProps=[],this.dedupe=e}serialize(e){let t=new Map,r=J(e,t,this,this.dedupe),n={json:r.transformedValue};r.annotations&&(n.meta={...n.meta,values:r.annotations});let i=function(e,t){let r;let n={};return(e.forEach(e=>{if(e.length<=1)return;t||(e=e.map(e=>e.map(String)).sort((e,t)=>e.length-t.length));let[i,...s]=e;0===i.length?r=s.map(A):n[A(i)]=s.map(A)}),r)?m(n)?[r]:[r,n]:m(n)?void 0:n}(t,this.dedupe);return i&&(n.meta={...n.meta,referentialEqualities:i}),n}deserialize(e){let{json:t,meta:r}=e,n=function e(t,r={}){return Z(t)?t.map(t=>e(t,r)):!function(e){if("Object"!==W(e))return!1;let t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(t)?t:[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)].reduce((n,i)=>{if(Z(r.props)&&!r.props.includes(i))return n;let s=e(t[i],r);return!function(e,t,r,n,i){let s=({}).propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";"enumerable"===s&&(e[t]=r),i&&"nonenumerable"===s&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}(n,i,s,t,r.nonenumerable),n},{})}(t);if(r?.values){var i,s,o;i=n,s=r.values,o=this,function e(t,r,n=[]){if(!t)return;if(!g(t)){u(t,(t,i)=>e(t,r,[...n,...R(i)]));return}let[i,s]=t;s&&u(s,(t,i)=>{e(t,r,[...n,...R(i)])}),r(i,n)}(s,(e,t)=>{i=K(i,t,t=>M(t,e,o))}),n=i}return r?.referentialEqualities&&(n=function(e,t){function r(t,r){let n=H(e,R(r));t.map(R).forEach(t=>{e=K(e,t,()=>n)})}if(g(t)){let[n,i]=t;n.forEach(t=>{e=K(e,R(t),()=>e)}),i&&u(i,r)}else u(t,r);return e}(n,r.referentialEqualities)),n}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}Q.defaultInstance=new Q,Q.serialize=Q.defaultInstance.serialize.bind(Q.defaultInstance),Q.deserialize=Q.defaultInstance.deserialize.bind(Q.defaultInstance),Q.stringify=Q.defaultInstance.stringify.bind(Q.defaultInstance),Q.parse=Q.defaultInstance.parse.bind(Q.defaultInstance),Q.registerClass=Q.defaultInstance.registerClass.bind(Q.defaultInstance),Q.registerSymbol=Q.defaultInstance.registerSymbol.bind(Q.defaultInstance),Q.registerCustom=Q.defaultInstance.registerCustom.bind(Q.defaultInstance),Q.allowErrorProps=Q.defaultInstance.allowErrorProps.bind(Q.defaultInstance),Q.serialize,Q.deserialize,Q.stringify,Q.parse,Q.registerClass,Q.registerCustom,Q.registerSymbol,Q.allowErrorProps}}]);